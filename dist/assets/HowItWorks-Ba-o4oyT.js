import{r as s,j as t,R as W}from"./index-Yqfij8K6.js";import{M as z,i as A,u as D,P as F,a as H,b as O,L as V,m as b}from"./proxy-Du9WHEgl.js";function P(e,a){if(typeof e=="function")return e(a);e!=null&&(e.current=a)}function B(...e){return a=>{let i=!1;const r=e.map(o=>{const n=P(o,a);return!i&&typeof n=="function"&&(i=!0),n});if(i)return()=>{for(let o=0;o<r.length;o++){const n=r[o];typeof n=="function"?n():P(e[o],null)}}}}function K(...e){return s.useCallback(B(...e),e)}class U extends s.Component{getSnapshotBeforeUpdate(a){const i=this.props.childRef.current;if(i&&a.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=A(r)&&r.offsetWidth||0,n=this.props.sizeRef.current;n.height=i.offsetHeight||0,n.width=i.offsetWidth||0,n.top=i.offsetTop,n.left=i.offsetLeft,n.right=o-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function q({children:e,isPresent:a,anchorX:i,root:r}){const o=s.useId(),n=s.useRef(null),l=s.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=s.useContext(z),h=K(n,e?.ref);return s.useInsertionEffect(()=>{const{width:d,height:j,top:u,left:p,right:g}=l.current;if(a||!n.current||!d||!j)return;const w=i==="left"?`left: ${p}`:`right: ${g}`;n.current.dataset.motionPopId=o;const f=document.createElement("style");c&&(f.nonce=c);const R=r??document.head;return R.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${j}px !important;
            ${w}px !important;
            top: ${u}px !important;
          }
        `),()=>{R.contains(f)&&R.removeChild(f)}},[a]),t.jsx(U,{isPresent:a,childRef:n,sizeRef:l,children:s.cloneElement(e,{ref:h})})}const G=({children:e,initial:a,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:n,mode:l,anchorX:c,root:h})=>{const d=D(X),j=s.useId();let u=!0,p=s.useMemo(()=>(u=!1,{id:j,initial:a,isPresent:i,custom:o,onExitComplete:g=>{d.set(g,!0);for(const w of d.values())if(!w)return;r&&r()},register:g=>(d.set(g,!1),()=>d.delete(g))}),[i,d,r]);return n&&u&&(p={...p}),s.useMemo(()=>{d.forEach((g,w)=>d.set(w,!1))},[i]),s.useEffect(()=>{!i&&!d.size&&r&&r()},[i]),l==="popLayout"&&(e=t.jsx(q,{isPresent:i,anchorX:c,root:h,children:e})),t.jsx(F.Provider,{value:p,children:e})};function X(){return new Map}const N=e=>e.key||"";function S(e){const a=[];return s.Children.forEach(e,i=>{s.isValidElement(i)&&a.push(i)}),a}const M=({children:e,custom:a,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:n="sync",propagate:l=!1,anchorX:c="left",root:h})=>{const[d,j]=H(l),u=s.useMemo(()=>S(e),[e]),p=l&&!d?[]:u.map(N),g=s.useRef(!0),w=s.useRef(u),f=D(()=>new Map),[R,$]=s.useState(u),[v,T]=s.useState(u);O(()=>{g.current=!1,w.current=u;for(let y=0;y<v.length;y++){const m=N(v[y]);p.includes(m)?f.delete(m):f.get(m)!==!0&&f.set(m,!1)}},[v,p.length,p.join("-")]);const I=[];if(u!==R){let y=[...u];for(let m=0;m<v.length;m++){const C=v[m],k=N(C);p.includes(k)||(y.splice(m,0,C),I.push(C))}return n==="wait"&&I.length&&(y=I),T(S(y)),$(u),null}const{forceRender:_}=s.useContext(V);return t.jsx(t.Fragment,{children:v.map(y=>{const m=N(y),C=l&&!d?!1:u===v||p.includes(m),k=()=>{if(f.has(m))f.set(m,!0);else return;let E=!0;f.forEach(L=>{L||(E=!1)}),E&&(_?.(),T(w.current),l&&j?.(),r&&r())};return t.jsx(G,{isPresent:C,initial:!g.current||i?void 0:!1,custom:a,presenceAffectsLayout:o,mode:n,root:h,onExitComplete:C?void 0:k,anchorX:c,children:y},m)})})},x=[{number:1,day:"Day 1",title:"Facultative Reactor - I",description:"In a facultative reactor, microbes break down waste, and solids settle to produce cleaner water. The upper section is aerobic (with oxygen), while the lower section is anaerobic (without oxygen).",image:"/.netlify/images?url=/images/step_img1.jpg&w=800&fm=webp"},{number:2,day:"Day 2",title:"Facultative Reactor - II",description:"This continues the process with a combination of aerobic and anaerobic chambers. The bacteria present are capable of functioning in either environment, which significantly enhances the overall treatment efficiency.",image:"/.netlify/images?url=/images/step_img2.jpg&w=800&fm=webp"},{number:3,day:"Day 3",title:"Anaerobic Reactor - I",description:"The anaerobic reactor promotes further anaerobic digestion, effectively assisting in the breakdown of organic matter and the reduction of harmful pathogens. This aids in sludge treatment and improves waste management.",image:"/.netlify/images?url=/images/step_img3.jpg&w=800&fm=webp"},{number:4,day:"Day 4",title:"Anaerobic Reactor - II",description:"This reactor efficiently treats wastewater by enhancing the overall effectiveness of the system and is designed to handle higher sludge volumes and more complex waste types.",image:"/.netlify/images?url=/images/step_img4.jpg&w=800&fm=webp"},{number:5,day:"Day 5",title:"Sludge Polishing Reactor",description:"This reactor continues anaerobic digestion, fostering the further breakdown of organic matter. It enhances the quality of effluent by removing remaining solids and reducing residual contaminants.",image:"/.netlify/images?url=/images/step_img5.jpg&w=800&fm=webp"},{number:6,day:"Day 6",title:"Settling Tank",description:"The Settling Tank facilitates sedimentation, allowing solid particles to settle at the bottom, resulting in clear water in the final stage. This step effectively removes suspended solids before discharge.",image:"/.netlify/images?url=/images/step_img6.jpg&w=800&fm=webp"}],Y=()=>{const[e,a]=s.useState(0),[i,r]=s.useState(!0);s.useEffect(()=>{if(!i)return;const c=setInterval(()=>{a(h=>(h+1)%x.length)},4e3);return()=>clearInterval(c)},[i]);const o=c=>{a(c),r(!1)},n={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{staggerChildren:.1,duration:.6}}},l={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return t.jsx(b.div,{className:"bg-gray-50 py-20 px-4 sm:px-6 lg:px-8 overflow-hidden",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},variants:n,children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx(b.h2,{className:"text-text-dark font-extrabold text-3xl md:text-4xl text-center mb-4 leading-tight",variants:l,children:"How the Bio Septic Tank Works"}),t.jsx(b.p,{className:"text-charcoal text-lg max-w-3xl mx-auto text-center mb-16",variants:l,children:"Our advanced system uses a 6-day retention, 6-chambered anaerobic reactor process to achieve over 98% pollution removal."}),t.jsx(b.div,{className:"relative mb-16",variants:n,children:t.jsx("div",{className:"flex items-center justify-between",children:x.map((c,h)=>t.jsxs(W.Fragment,{children:[t.jsxs(b.div,{className:`w-14 h-14 sm:w-16 sm:h-16 rounded-full flex flex-col items-center justify-center text-xs font-semibold cursor-pointer transition-all duration-300 transform ${h<=e?"bg-primary text-white shadow-xl scale-105":"bg-white border-4 border-primary/30 text-primary hover:scale-105"}`,onClick:()=>o(h),variants:l,whileHover:{scale:1.1},whileTap:{scale:.95},children:[t.jsx("span",{className:"text-sm font-bold",children:c.number}),t.jsx("span",{className:"text-[10px] sm:text-xs font-medium mt-[-2px]",children:c.day})]}),h<x.length-1&&t.jsx("div",{className:"flex-1 h-1.5 bg-gray-300 relative mx-2 sm:mx-4 overflow-hidden rounded-full",children:t.jsx(b.div,{className:"h-full bg-primary",initial:{width:0},animate:{width:h<e?"100%":"0%"},transition:{duration:.4,ease:"easeInOut"}})})]},c.number))})}),t.jsxs("div",{className:"flex flex-col items-center text-center space-y-8 lg:flex-row lg:items-start lg:text-left lg:space-y-0 lg:space-x-12",children:[t.jsx("div",{className:"w-full max-w-lg lg:w-1/2 relative overflow-hidden rounded-xl",children:t.jsx(M,{mode:"wait",children:t.jsx(b.img,{src:x[e].image,alt:x[e].title,className:"w-full rounded-xl shadow-2xl border border-gray-100 object-cover",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.5,ease:"easeInOut"}},x[e].image)})}),t.jsx("div",{className:"flex-1 lg:w-1/2",children:t.jsx(M,{mode:"wait",children:t.jsxs(b.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},transition:{duration:.4},className:"lg:pt-4",children:[t.jsxs("p",{className:"text-primary font-bold text-sm uppercase mb-2",children:[x[e].day," | Stage ",x[e].number]}),t.jsx("h3",{className:"text-2xl sm:text-3xl font-extrabold text-text-dark mb-4 leading-snug",children:x[e].title}),t.jsx("p",{className:"text-charcoal text-lg",children:x[e].description})]},x[e].title)})})]}),t.jsx(b.div,{variants:l,className:"text-center mt-12 pt-8 border-t border-gray-200",children:t.jsx("p",{className:"text-xl font-semibold text-text-dark",children:"Final Outcome: Clean, Treated Water Outlet"})})]})})};export{Y as default};
